<!DOCTYPE HTML>
<html xmlns  ="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:f="http://xmlns.jcp.org/jsf/core">
	<head>
        <title>CovidWeb - Listagem de Consultas</title>
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"></link>
		<style>
			.btn-margin-right-fix {
				margin-right: 6px !important;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<div class="navbar navbar-inverse">
				<div class="navbar-brand">CovidWeb | Consultas</div>
			</div>
			<h:form id="formularioConsulta">
				<h:dataTable id="tabelaConsulta" binding="#{table}" value="#{AppointmentBean.appointmentsList()}" var="appointment" class="table table-striped table-hover table-bordered">
					<h:column>
						<f:facet name="header">Código</f:facet>
						<h:outputText value="#{appointment.id}"/>
					</h:column>
					<h:column>
						<f:facet name="header">ID: Paciente</f:facet>
						<h:outputText value="#{appointment.idPaciente}"/>
					</h:column>
					<h:column>
						<f:facet name="header">Nome Paciente</f:facet>
						<h:outputText value="#{appointment.nomePaciente}"/>
					</h:column>
					<h:column>
						<f:facet name="header">ID: Médico</f:facet>
						<h:outputText value="#{appointment.idMedico}"/>
					</h:column>
					<h:column>
						<f:facet name="header">Nome Médico</f:facet>
						<h:outputText value="#{appointment.nomeMedico}"/>
					</h:column>
					<h:column>
						<f:facet name="header">Data</f:facet>
						<h:outputText value="#{appointment.dataConsulta}"/>
					</h:column>
					<h:column>
						<f:facet name="header"></f:facet>
						<h:commandButton action="#{AppointmentBean.editAppointmentRecord(appointment.id)}" value="Alterar" class="btn btn-primary"/>
					</h:column>
					<h:column>
						<f:facet name="header"></f:facet>
						<h:commandButton action="#{AppointmentBean.deleteAppointmentRecord(appointment.id)}" value="Deletar" class="btn btn-danger"/>
					</h:column>
				</h:dataTable>
				<center>
					<h:commandButton action="criarConsulta.xhtml?faces-redirect=true" value="Nova Consulta" class="btn btn-success btnSpace btn-margin-right-fix"/>
					<h:commandButton action="index.xhtml?faces-redirect=true" value="Voltar" class="btn btn-warning btnSpace btn-margin-right-fix"/>
				</center>
			</h:form>
		</div>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    </body>
</html>